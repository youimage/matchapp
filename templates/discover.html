{% extends "base.html" %}

{% block title %}Discover - MatchApp{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <h2 class="text-3xl font-bold text-center mb-8">Discover People</h2>
    
    {% if users %}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for user in users %}
                <div class="bg-white rounded-lg shadow-md p-6 match-card">
                    <h3 class="text-xl font-semibold mb-2">{{ user.profile.name }}</h3>
                    {% if user.profile.age %}<p class="text-gray-600 mb-2">Age: {{ user.profile.age }}</p>{% endif %}
                    {% if user.profile.location %}<p class="text-gray-600 mb-2">üìç {{ user.profile.location }}</p>{% endif %}
                    {% if user.profile.bio %}<p class="text-gray-700 mb-4">{{ user.profile.bio }}</p>{% endif %}
                    
                    {% if user.profile.get_tags_list() %}
                        <div class="mb-4">
                            {% for tag in user.profile.get_tags_list() %}
                                <span class="inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full mr-1 mb-1">{{ tag }}</span>
                            {% endfor %}
                        </div>
                    {% endif %}
                    
                    <div class="flex space-x-2">
                        <button data-like-user="{{ user.id }}" class="flex-1 bg-red-500 text-white py-2 px-4 rounded-md hover:bg-red-600 transition-colors">
                            ‚ù§Ô∏è Like
                        </button>
                        <a href="{{ url_for('profile.view_other_profile', user_id=user.id) }}" class="flex-1 bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors text-center">
                            üë§ View Profile
                        </a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="text-center bg-white p-8 rounded-lg shadow-md">
            <h3 class="text-xl font-semibold mb-4">No more people to discover right now</h3>
            <p class="text-gray-600 mb-4">Check back later for more profiles!</p>
            <a href="{{ url_for('match.view_matches') }}" class="bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700">
                View Your Matches
            </a>
        </div>
    {% endif %}
</div>
{% endblock %}